##  2019年工作日志总结

### 2019年第30周（2019.07.22  Mon）.note

**1.【基础数据】--自定义档案定义节点**

问题：界面无法打开，提示“正在进行，请稍后”：

原因：common.css、common.js引入路径错误

方案：iuap_basedoc_fe工程-gulpfile.js文件中修改路径为：```var uri = isProd ? cndUri + '../../spacommon/' : '../../spacommon/';```

**2.【权限管理】 -- 角色管理节点**

问题：新增角色时，角色名输入空格键，界面报：时间发送异常

原因：对新增角色输入框的内容进行限制，不能全为空；

方案：判断input输入框，当全为空时即e.target.value.trim().lenght ===0 ，提示输入内容不能为空；

**3.【权限管理】 -- 角色管理节点**

问题：新增角色时，描述输入过长时，界面报:SQL错误

原因：未对输入字符串长度进行限制

方案：e.target.value.substring(0,100);

**4.【基础数据】 -- 自定义档案定义节点**

问题：点击新增，界面无反应 

原因：根目录下未引入ajaxfileupload.js文件

方案：根目录下引入ajaxfileupload.js文件

**5.【基础数据】 -- 自定义档案定义节点**

问题：界面图标未显示

原因：引入的第三方css库(tinper-bee.css)未生效

方案：添加tinper文件夹，引入tinper-bee下的u.css文件，需要修改gulpfile.js打包文件；

###  2019年第30周（2019.07.23 Tue) .note

**1.工作中遇到的git命令**

删除本地分支 ```git branch -d <branchname>```

删除远程分支 ```git push origin --delete <branchname>```

查看删除后分支（包括本地和远程） ```git branch -a```

查看远程分支 ```git branch -r```

使用git pull拉取服务器远程版本的解决防范

(1) 如果希望保留本地文件所做的改动，仅仅并入新修改的文件时

```
git stash 
git pull
git stash pop
```
然后可以使用git diff -w 文件名 来确认代码自动合并的情况
(2) 如果要直接使用服务器上最新版本，那么可以选择直接覆盖

```
git reset --hard // git reset是针对版本
git pull
```

**2.修改的bug节点**

【组织管理】-- 职级、职务、职等、职务类别页面请求数据时，对于不同的请求状态码，返回相应的提示信息即message

问题：请求后端数据时，返回结果失败时，提示信息为系统报错；

原因：请求后端数据时，返回结果失败时，未在前端设置返回的和状态码message信息

方案：查找请求页面的url,根据url查找请求的方法，在请求状态中，根据状态码，返回相应的提示语信息(res.data.message)

注意：**利用debugger打断点的方法，进行调试；配置本地代理服务器，进行调试**

### 2019年第30周（2019.07.24  Wed) .note

**1. git提交远程仓库冲突解决**

错误提示：``` ! [rejected] CAEP -> CAEP (non-fast-forward)```

方法一：强推，即利用强覆盖方式用你本地的代码替代git仓库内的内容

```
git push -f  or git push --forece
```

方法二：先把git的东西fetch到你本地然后merge后再push(推荐该方法)

```
git fetch origin dev // 获取远程dev分支的修改
git merge origin dev // 合并远程分支
git pull origin dev // 更新本地的代码
```

**2. 工作任务及需要注意的点**

1. IUAP 368 bug 【基础数据】定义自定义项节点，点击“查看更多-取消”后，界面提示：数据查询失败 的状态更新为 待验证， 解决方案更新为 “已解决”
   项目：iuap-basedate-fe  (已push)  可本地调式
   CustomStore.js  body: JSON.stringify({ keyword: ' ' })
   
   ------
   
   
   
2. IUAP-377【组织管理】职务类别节点，每页显示条数与页面实际条数不符
   项目：OrgVue (已push) 可本地调式
   修改：pages/corehr/job-type/list.vue 修改pageSize为size，pageNum为num ；

   推送maven包时，记得断掉vpn

   ------

    	

3. IUAP-384【系统管理】业务日志节点，页码显示为js 

    项目：bPaaS_diworkLog_fe_exclusive  expandTable.js (已push) 可本地调式

    方案： ```<FormattedMessage id="paginationOption"/>```为对象，需要转换为字符串

    ```
	let paginationOption = this.props.intl.formatMessage({id:"paginationOption"}
export default injectIntl(ExpandTable))
    ```

    com.yonyou.iuap:ucfrule-maven-plugin:1.2.2-SNAPSHOT:cape-version-check (版本检查)

    ------

4. IUAP-394 【系统管理】调度任务节点，规则列表界面，点击删除规则后，界面实际统计条数与页码显示不符
   项目：bPaaS_dispatch_fe 
   修改：tastrules/list.vue deleteFun(item, index)中调用查询 that.getTaskWayList();
   

**注意：** 在修改请求引发的问题时，尽可能拿到请求的数据或者mock到数据，以保证接口正确
























