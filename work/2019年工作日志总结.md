##  2019年工作日志总结

### 2019.07.22  Mon 30Weeks Beijing 

**1.【基础数据】--自定义档案定义节点**

问题：界面无法打开，提示“正在进行，请稍后”：

原因：common.css、common.js引入路径错误

方案：iuap_basedoc_fe工程-gulpfile.js文件中修改路径为：```var uri = isProd ? cndUri + '../../spacommon/' : '../../spacommon/';```

**2.【权限管理】 -- 角色管理节点**

问题：新增角色时，角色名输入空格键，界面报：时间发送异常

原因：对新增角色输入框的内容进行限制，不能全为空；

方案：判断input输入框，当全为空时即e.target.value.trim().lenght ===0 ，提示输入内容不能为空；

**3.【权限管理】 -- 角色管理节点**

问题：新增角色时，描述输入过长时，界面报:SQL错误

原因：未对输入字符串长度进行限制

方案：e.target.value.substring(0,100);

**4.【基础数据】 -- 自定义档案定义节点**

问题：点击新增，界面无反应 

原因：根目录下未引入ajaxfileupload.js文件

方案：根目录下引入ajaxfileupload.js文件

**5.【基础数据】 -- 自定义档案定义节点**

问题：界面图标未显示

原因：引入的第三方css库(tinper-bee.css)未生效

方案：添加tinper文件夹，引入tinper-bee下的u.css文件，需要修改gulpfile.js打包文件；

### 2019.07.23 Tue Beijing 30Weeks

**1.工作中遇到的git命令**

删除本地分支 ```git branch -d <branchname>```

删除远程分支 ```git push origin --delete <branchname>```

查看删除后分支（包括本地和远程） ```git branch -a```

查看远程分支 ```git branch -r```

使用git pull拉取服务器远程版本的解决方法

(1) 如果希望保留本地文件所做的改动，仅仅并入新修改的文件时

```
git stash 
git pull
git stash pop
```
然后可以使用git diff -w 文件名 来确认代码自动合并的情况
(2) 如果要直接使用服务器上最新版本，那么可以选择直接覆盖

```
git reset --hard // git reset是针对版本
git pull
```

**2.修改的bug节点**

【组织管理】-- 职级、职务、职等、职务类别页面请求数据时，对于不同的请求状态码，返回相应的提示信息即message

问题：请求后端数据时，返回结果失败时，提示信息为系统报错；

原因：请求后端数据时，返回结果失败时，未在前端设置返回的和状态码message信息

方案：查找请求页面的url,根据url查找请求的方法，在请求状态中，根据状态码，返回相应的提示语信息(res.data.message)

注意：**利用debugger打断点的方法，进行调试；配置本地代理服务器，进行调试**

### 2019.07.24  Wed Beijing  30Weeks

**1. git提交远程仓库冲突解决**

错误提示：``` ! [rejected] CAEP -> CAEP (non-fast-forward)```

方法一：强推，即利用强覆盖方式用你本地的代码替代git仓库内的内容

```
git push -f  or git push --forece
```

方法二：先把git的东西fetch到你本地然后merge后再push(推荐该方法)

```
git fetch origin dev // 获取远程dev分支的修改
git merge origin dev // 合并远程分支
git pull origin dev // 更新本地的代码
```

**2. 工作任务及需要注意的点**

1. IUAP 368 bug 【基础数据】定义自定义项节点，点击“查看更多-取消”后，界面提示：数据查询失败 的状态更新为 待验证， 解决方案更新为 “已解决”
   项目：iuap-basedate-fe  (已push)  可本地调式
   CustomStore.js  body: JSON.stringify({ keyword: ' ' })
   
   ------
   
   
   
2. IUAP-377【组织管理】职务类别节点，每页显示条数与页面实际条数不符
   项目：OrgVue (已push) 可本地调式
   修改：pages/corehr/job-type/list.vue 修改pageSize为size，pageNum为num ；

   推送maven包时，记得断掉vpn

   ------

    	

3. IUAP-384【系统管理】业务日志节点，页码显示为js 

   项目：bPaaS_diworkLog_fe_exclusive  expandTable.js (已push) 可本地调式

   方案： ```<FormattedMessage id="paginationOption"/>```为对象，需要转换为字符串

   ```
   let paginationOption = this.props.intl.formatMessage({id:"paginationOption"}
   export default injectIntl(ExpandTable))
   ```
   com.yonyou.iuap:ucfrule-maven-plugin:1.2.2-SNAPSHOT:cape-version-check (版本检查)

   ------

   

4. IUAP-394 【系统管理】调度任务节点，规则列表界面，点击删除规则后，界面实际统计条数与页码显示不符
   项目：bPaaS_dispatch_fe 
   修改：tastrules/list.vue deleteFun(item, index)中调用查询 that.getTaskWayList();

**注意：** 在修改请求引发的问题时，尽可能拿到请求的数据或者mock到数据，以保证接口正确

### 2019年第30周（2019.07.25  Thu Beijing) .note

**1.完成工作 - Bug修复9个**

(1) 【系统管理】 -  调度任务 1个

(2) 【组织管理】 - 职级节点 4个 (3个为后端返回数据问题)

(3) 【组织管理】 - 职务节点 2个 (1个为后端返回数据问题)

(4)  【基础数据】- 定义自定义项节点 2个

**2.git下拉最新远程分支代码**

```
git fetch --all // 获取远程dev分支的修改
git	reset --hard origin/master // 合并远程分支和本地分支
git pull 
```

可以尝试一下：git checkout 再git pull 以代替上面的流程

**3.推送最新代码命令到远程分支**

**方法1**

```
git add .
git commit -m
git pull --rebase // rebase 可以把本地未push的分叉提交历史整理成直线;需保证本地不存在状态为modified的文件，查看文件状态git status
git push
```



**方法2**

```
git stash // 备份当前的工作区的内容,同时，将当前的工作区内容保存到Git栈中
git pull --rebase // rebase 可以把本地未push的分叉提交历史整理成直线
git push
git stash pop // 从最近的一个stash中读取内容并恢复
```



**方法3**

```
git fetch origin dev // 获取远程dev分支的修改
git merge origin dev // 合并远程分支
git pull origin dev // 更新本地的代码
```

### 2019.07.26  Fri 30Weeks Beijing 

* 遇到涉及请求数据的问题时，先判断问题类型，是前端请求问题还是后端返回数据问题

*  部署代码之前一定要从远程pull最新代码，以免覆盖他人代码的修改；

*  晚上可空余出一定的时间多思考和多总结

* 修改js的bug时学会打断点，来进行错误定位，精确错误的位置

### 2019.08.06  Tue 32Weeks Beijing 

##### 任务清单：

- [x] 修改自定义项"多语"bug

- [ ] 阅读ucf-web文档，配置环境，搭建index目录及页面

- [ ] 学习《了不起的nodejs》第三、四章节

- [x] 修改静态资源路径域名pub.caep.com(已完成staff,orgcenter)
----
### 2019.08.07  Wed 32Weeks Beijing 

**任务清单:**

- [x] 修改静态资源路径域名pub.caep.com(完成staff,defdoc,orgcenter)
- [ ] 阅读ucf-web文档，配置环境，搭建index目录及页面
- [x] 学习《了不起的nodejs》第三章节
- [ ] 学习《了不起的nodejs》第四章节
- [ ] 修改自定义项"多语"bug（已分配月凯）
- [x] 修改“职务类别”查询bug
**总结：先易后难，减少任务切换，减少出错率，提高效率**
**注意**：
> org-center打包时，执行完npm run build后，需执行gulp package命令，用来完成迁移assets文件；
> OrgVue打包上传文件，文件服务器路径为 staff-migrate/WEB-INF/classes/

**错误：Assertion `args[1]->IsString()' failed...[ERROR]**

原因：gulp安装版本太低，需要升级较高版本gulp;

```
npm rm -g gulp // 卸载现有gulp版本
npm install -g gulp-cli // 全局安装gulp最新版本
npm install --save-de gulp@3.9.1 // 当前项目局部安装gulp
```

### 2019.08.08  Thu 32Weeks Beijing
**任务清单:**

- [x] 修复jira中前端bug，目标3个

- [ ] 阅读ucf-web文档，配置环境，搭建index目录及页面

- [ ] 学习《了不起的nodejs》第四章节，跟着案例敲代码

- [ ] 复习代码冲突时，git pull和git push命令

**当日总结**：
>1.本地开发调试需要去掉eslint错误检查；
2.通过路由/url参数/className查找对应节点；
3.linux命令mv和cp的用法；
----
### 2019.08.09 Fri 32Weeks Beijing
**任务清档**：
- [x] 隐藏OrgVue职级职等按钮；
- [x] 修改defdoc | orgcenter | logfe域名，并部署评测及开发环境；
- [ ] 阅读ucf-web文档，配置环境，搭建index目录及页面；
- [x] 复习代码冲突时，git pull和git push命令；
- [ ] 总结linux命令mkdir,mv,cp;
----
### 2019.08.12 Mon 33Weeks Beijing

**效率提升**：

> 减少扣手机的时间；减少任务间切换；使用快捷键；

**任务清单**：

- [x] 修改jira上剩余bug(3个，完成2个);
- [ ] 阅读ucf-web文档，配置环境，搭建index目录及页面;
- [ ] 总结linux命令mkdir,mv,cp;

### 2019.08.13 Tue 33Weeks Beijing

**效率提升**：

> 减少扣手机的时间；减少任务间切换；使用快捷键；

**任务清单**：

- [x] 修改jira上剩余bug(2个，完成2个);
- [ ] 阅读ucf-web文档，配置环境，搭建index目录及页面;
- [ ] 总结linux命令mkdir,mv,cp;
----
### 2019.08.14 Wed 33Weeks Beijing
**效率提升**：

> 减少扣手机的时间；减少任务间切换；使用快捷键；

**任务清单**：
- [x] 修改自定义档案维护域名,修改组织管理里节点提示语；
- [x] 下载iuap5.0工程(6个),并安装环境依赖(ucf-org-fe先下载工程，无法安装依赖);
- [ ] 2019年下半年产品BG-云平台事业部员工考核方案;
- [ ] 阅读ucf-web文档，配置环境，搭建index目录及页面;
- [ ] 总结linux命令mkdir,mv,cp;
----
### 2019.08.15 Thu 33Weeks Beijing
**效率提升**：
> - 减少扣手机的时间<=1h；减少任务间切换；使用快捷键；
> - 沟通时逻辑清晰、语义明确、吐字清除，确保一次能听懂；
> - 好想法，解决问题的思路和方法多做记录；

**任务清单**：

- [x] 修改九院环境域名;
- [x] 2019年下半年产品BG-云平台事业部员工考核方案;
- [x] 开发者中心应用域名统计 + 属性修改**mw_profiles_active**的值替换为：premise-dev；
- [ ] 阅读ucf-web文档，配置环境，搭建index目录及页面;
- [ ] 总结linux命令mkdir,mv,cp;
>创建流水线：
iuap5-guojin-test
基本信息：持续集成 => 创建流水线 => 应用名称、应用CODE、镜像名称:前缀(版本号)-工程名;产品线;产品:工作台及权限
参数配置：应用类型:静态网站 => 上传应用(Git仓库) | 源码构建(源码库地址即项目Git仓库地址、登录用户名、密码)  => 使用dockerfile构建(编辑)=>基础镜像(选择nginx服务器版本)
部署配置：VIP资源池 => 基础设置(内存、CPU) => 环境变量(键和值)
健康检查，通过则表示流水线创建成功，否则失败
----
### 2019.08.16 Fri 33Weeks Beijing
**任务清单**：

- [x] 查看并修改九院环境(imp)域名;
- [ ] 辅助建鲁修改评测环境cdn路径;(取消)
- [ ] 阅读ucf-web文档，配置环境，搭建index目录及页面;
- [ ] 总结linux命令mkdir,mv,cp;
- [x] 安装React Devtools调试工具;

**效率提升**：

> - 减少使用手机时间<=1.5h；减少任务间切换；使用快捷键；
> - 沟通时逻辑清晰、语义明确、吐字清楚，确保一次能听懂；
> - 好想法，解决问题的思路和方法多做记录；

**基础学习**：

> - 每天代码练习行数100行，从JS基础开始；
----
### 2019.08.19 Mon 34Weeks Beijing
**任务清单**：

- [x] 修改iaup5.0工程cdn文件路径(2个工程);
- [ ] 规划本周每日学习之任务和目标;
- [ ] 阅读ucf-web文档练习配置环境;
- [ ] 总结linux命令mkdir,mv,cp;

**效率提升**：

> - 减少使用手机时间<=1.5h；减少任务间切换；使用快捷键；
> - 沟通时逻辑清晰、语义明确、吐字清楚，确保一次能听懂；
> - 好想法，解决问题的思路和方法多做记录；

----
### 2019.08.20 Tue 34Weeks Beijing
**任务清单**：

- [ ] 与刘延瑞沟通file-cdn.yonyoucloud.com的资源(营销云-方奇功,待月凯沟通);
- [ ] 修改ucf-staff/ucf-org/ucf-userdef的cdn路径;
- [ ] 总结linux命令mkdir,mv,cp;

**效率提升**：

> - 减少使用手机时间<=1.5h；减少任务间切换；使用快捷键；
> - 沟通时准备好问题、逻辑清晰、语义明确、吐字清楚，确保一次能听懂；
> - 好想法，解决问题的思路和方法多做记录；







